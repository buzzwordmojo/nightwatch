(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[937],{599:(e,s,t)=>{Promise.resolve().then(t.bind(t,2513))},1180:(e,s,t)=>{"use strict";t.d(s,{FH:()=>r});var a=t(5350);let r=a.dp;(0,a.Op)()},2513:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var a=t(5155),r=t(2115),n=t(4159),l=t(1180),d=t(9749),i=t(4057);let c=(0,i.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),o=(0,i.A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var m=t(7193);let u=(0,i.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var x=t(5524);function h(){var e,s;let t=(0,n.IT)(l.FH.sharing.list),i=(0,n.n_)(l.FH.sharing.create),h=(0,n.n_)(l.FH.sharing.revoke),p=(0,n.n_)(l.FH.sharing.remove),[f,g]=(0,r.useState)(!1),[v,j]=(0,r.useState)(""),[N,b]=(0,r.useState)("view"),[y,k]=(0,r.useState)(null),w=async()=>{v.trim()&&(await i({name:v.trim(),permissions:N}),j(""),g(!1))},C=async e=>{let s="".concat(window.location.origin,"/shared/").concat(e);await navigator.clipboard.writeText(s),k(e),setTimeout(()=>k(null),2e3)},A=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),R=null!==(e=null==t?void 0:t.filter(e=>e.active))&&void 0!==e?e:[],M=null!==(s=null==t?void 0:t.filter(e=>!e.active))&&void 0!==s?s:[];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-1",children:"Share Access"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Create links to share dashboard access with family and caregivers"})]}),f?(0,a.jsx)(d.Zp,{children:(0,a.jsxs)(d.Wu,{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1.5",children:"Link Name"}),(0,a.jsx)("input",{type:"text",value:v,onChange:e=>j(e.target.value),placeholder:"e.g., Grandma's link",className:"w-full px-3 py-2 rounded-md border bg-background text-sm",autoFocus:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1.5",children:"Permissions"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>b("view"),className:"flex-1 px-3 py-2 rounded-md text-sm transition-colors ".concat("view"===N?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),children:"View only"}),(0,a.jsx)("button",{onClick:()=>b("view+pause"),className:"flex-1 px-3 py-2 rounded-md text-sm transition-colors ".concat("view+pause"===N?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"),children:"View + Pause"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>g(!1),className:"flex-1 px-3 py-2 rounded-md border hover:bg-muted transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:w,disabled:!v.trim(),className:"flex-1 px-3 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 transition-colors disabled:opacity-50",children:"Create"})]})]})}):(0,a.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-3 w-full rounded-lg border border-dashed hover:border-muted-foreground/50 hover:bg-muted/50 transition-colors text-muted-foreground",children:[(0,a.jsx)(c,{className:"h-4 w-4"}),"Create share link"]}),R.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Active Links"}),R.map(e=>(0,a.jsx)(d.Zp,{children:(0,a.jsx)(d.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 min-w-0",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-success/20 text-success",children:(0,a.jsx)(o,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"font-medium truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["view+pause"===e.permissions?"Can view and pause":"View only"," ","\xb7 Created ",A(e.createdAt)]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,a.jsx)("button",{onClick:()=>C(e.token),className:"p-2 rounded-md hover:bg-muted transition-colors",title:"Copy link",children:y===e.token?(0,a.jsx)(m.A,{className:"h-4 w-4 text-success"}):(0,a.jsx)(u,{className:"h-4 w-4 text-muted-foreground"})}),(0,a.jsx)("button",{onClick:()=>h({token:e.token}),className:"p-2 rounded-md hover:bg-danger/20 transition-colors",title:"Revoke link",children:(0,a.jsx)(x.A,{className:"h-4 w-4 text-danger"})})]})]})})},e.token))]}),M.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Revoked Links"}),M.map(e=>(0,a.jsx)(d.Zp,{className:"opacity-60",children:(0,a.jsx)(d.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-muted text-muted-foreground",children:(0,a.jsx)(o,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Revoked \xb7 Created ",A(e.createdAt)]})]})]}),(0,a.jsx)("button",{onClick:()=>p({token:e.token}),className:"p-2 rounded-md hover:bg-muted transition-colors",title:"Delete permanently",children:(0,a.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})})]})})},e.token))]}),(null==t?void 0:t.length)===0&&!f&&(0,a.jsx)(d.Zp,{children:(0,a.jsxs)(d.Wu,{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"p-3 rounded-full bg-muted inline-block mb-3",children:(0,a.jsx)(o,{className:"h-6 w-6 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"font-medium mb-1",children:"No share links yet"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Create a link to share dashboard access with family members"})]})})]})}},9749:(e,s,t)=>{"use strict";t.d(s,{BT:()=>m,Wu:()=>u,ZB:()=>o,Zp:()=>i,aR:()=>c,wL:()=>x});var a=t(5155),r=t(2115),n=t(1027),l=t(1567);let d=(0,n.F)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",{variants:{variant:{default:"border-border",success:"border-success/50 bg-success/5",warning:"border-warning/50 bg-warning/10 animate-pulse-slow",critical:"border-danger/50 bg-danger/10 animate-pulse-fast shadow-danger/20 shadow-lg"}},defaultVariants:{variant:"default"}}),i=r.forwardRef((e,s)=>{let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)(d({variant:r}),t),...n})});i.displayName="Card";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});c.displayName="CardHeader";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});o.displayName="CardTitle";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});m.displayName="CardDescription";let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});u.displayName="CardContent";let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});x.displayName="CardFooter"},1567:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n,fU:()=>l});var a=t(3463),r=t(9795);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function l(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}},7193:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5524:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[181,540,520,441,517,358],()=>s(599)),_N_E=e.O()}]);