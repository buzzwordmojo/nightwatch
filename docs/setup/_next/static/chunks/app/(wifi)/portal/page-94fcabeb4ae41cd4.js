(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[166],{9868:(e,s,t)=>{Promise.resolve().then(t.bind(t,8281))},8281:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(5155),n=t(9749),c=t(3312),l=t(9173),a=t(4303),i=t(2813),d=t(6235),o=t(1598);function x(){let e=(0,a.US)({portalUrl:"",deviceId:"Nightwatch",autoStart:!0,skipHotspotDetection:!0,skipDeviceSearch:!0});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:(0,r.jsx)(i.A,{className:"h-8 w-8 text-primary"})}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Connect your Nightwatch to WiFi"})]}),"complete"!==e.step&&"error"!==e.step&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.k,{value:(()=>{switch(e.step){case"select-network":case"entering-password":return 33;case"connecting":return 66;case"complete":return 100;default:return 0}})(),className:"h-2"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:[("select-network"===e.step||"entering-password"===e.step)&&"Step 1: Select your WiFi","connecting"===e.step&&"Step 2: Connecting..."]})]}),"select-network"===e.step&&(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{className:"pb-4",children:(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary text-sm font-bold",children:"1"}),"Select Your WiFi"]})}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose the WiFi network you want Nightwatch to use."}),(0,r.jsx)(a.bd,{networks:e.networks,selectedSsid:e.selectedSsid,onSelect:e.setSelectedSsid,loading:0===e.networks.length&&!e.error,error:e.error,onRetry:e.scanWifi}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:e.scanWifi,className:"gap-2",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),"Refresh"]})})]})]}),"entering-password"===e.step&&(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{className:"pb-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary text-sm font-bold",children:"1"}),"Enter Password"]}),(0,r.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:e.goBack,children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"Back"]})]})}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3",children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Selected network"}),(0,r.jsx)("p",{className:"font-medium",children:e.selectedSsid})]}),(0,r.jsx)(a.yA,{value:e.password,onChange:e.setPassword,placeholder:"Enter WiFi password",error:e.error}),(0,r.jsx)(c.$,{className:"w-full",size:"lg",onClick:e.connect,disabled:e.password.length<8,children:"Connect"})]})]}),"connecting"===e.step&&(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{className:"pb-4",children:(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary text-sm font-bold",children:"2"}),"Connecting..."]})}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)(a.vk,{state:"connecting",message:"Connecting to ".concat(e.selectedSsid,"...")}),(0,r.jsx)("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:(0,r.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"The device will restart and connect to your WiFi network. This page will close automatically."})})]})]}),"complete"===e.step&&(0,r.jsx)(n.Zp,{className:"border-green-500/50 bg-green-500/5",children:(0,r.jsxs)(n.Wu,{className:"pt-6 text-center",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-500/20 mb-4",children:(0,r.jsx)(i.A,{className:"h-6 w-6 text-green-500"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-2",children:"WiFi Configured!"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Nightwatch is connecting to ",(0,r.jsx)("strong",{children:e.selectedSsid}),". This page will close shortly."]})]})}),"error"===e.step&&(0,r.jsx)(n.Zp,{children:(0,r.jsxs)(n.Wu,{className:"pt-6",children:[(0,r.jsx)(a.vk,{state:"error",message:e.error||"Something went wrong"}),(0,r.jsxs)("div",{className:"mt-6 flex gap-3",children:[(0,r.jsxs)(c.$,{variant:"outline",className:"flex-1",onClick:e.goBack,children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Go Back"]}),(0,r.jsx)(c.$,{className:"flex-1",onClick:e.retry,children:"Try Again"})]})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[181,219,891,441,517,358],()=>s(9868)),_N_E=e.O()}]);